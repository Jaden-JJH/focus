# Analytics Events Specification

**λ²„μ „:** 1.1.0
**μµμΆ… μμ •μΌ:** 2025-12-16
**λ‹΄λ‹Ήμ:** Focus Team

---

## π“‹ λ©μ°¨

1. [μ΄λ²¤νΈ λ„¤μ΄λ° μ»¨λ²¤μ…](#μ΄λ²¤νΈ-λ„¤μ΄λ°-μ»¨λ²¤μ…)
2. [μ΄λ²¤νΈ λ©λ΅](#μ΄λ²¤νΈ-λ©λ΅)
3. [GTM μ„¤μ • κ°€μ΄λ“](#gtm-μ„¤μ •-κ°€μ΄λ“)
4. [λ³€κ²½ μ΄λ ¥](#λ³€κ²½-μ΄λ ¥)

---

## μ΄λ²¤νΈ λ„¤μ΄λ° μ»¨λ²¤μ…

### κΈ°λ³Έ κ·μΉ™

1. **snake_case** μ‚¬μ© (μ†λ¬Έμ + μ–Έλ”μ¤μ½”μ–΄)
2. **λ™μ‚¬_λ…μ‚¬** κµ¬μ΅° κ¶μ¥ (μ: `click_button`, `complete_game`)
3. GA4 ν‘μ¤€ μ΄λ²¤νΈ μ°μ„  μ‚¬μ© (login, sign_up, share λ“±)
4. μµλ€ 40μ μ ν•
5. λ…ν™•ν•κ³  μ΄ν•΄ν•κΈ° μ‰¬μ΄ μ΄λ¦„ μ‚¬μ©

### μ΄λ²¤νΈ μΉ΄ν…κ³ λ¦¬

- **Authentication**: λ΅κ·ΈμΈ/νμ›κ°€μ… κ΄€λ ¨
- **Navigation**: νμ΄μ§€/ν™”λ©΄ μ΄λ™
- **Engagement**: μ‚¬μ©μ μ°Έμ—¬ ν–‰λ™
- **Game**: κ²μ„ ν”λ μ΄ κ΄€λ ¨
- **Social**: κ³µμ /λ°”μ΄λ΄ κ΄€λ ¨
- **Monetization**: μμµν™” κ΄€λ ¨ (ν–¥ν›„ ν™•μ¥)

### νλΌλ―Έν„° λ„¤μ΄λ°

- `method`: ν–‰λ™ λ°©μ‹ (μ: google, kakao, guest)
- `mode`: κ²μ„ λ¨λ“ (normal, hard)
- `level`: μ‚¬μ©μ λ λ²¨
- `round`: κ²μ„ λΌμ΄λ“
- `xp`: νλ“ κ²½ν—μΉ
- `user_type`: μ‚¬μ©μ μ ν• (member, guest)
- `content_type`: κ³µμ  μ»¨ν…μ¤νΈ
- `page_location`: νμ΄μ§€ URL
- `page_title`: νμ΄μ§€ μ λ©

---

## μ΄λ²¤νΈ λ©λ΅

**μ΄ 10κ° μ΄λ²¤νΈ**

---

### π” Authentication (μΈμ¦)

#### 1. `login`
**μ„¤λ…:** μ‚¬μ©μ λ΅κ·ΈμΈ μ‹λ„
**νΈλ¦¬κ±°:** Google/Kakao λ΅κ·ΈμΈ λ²„νΌ ν΄λ¦­
**μ„μΉ:** `Splash.js` (184, 192λ² λΌμΈ)

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `method` | string | λ΅κ·ΈμΈ λ°©μ‹ | `google`, `kakao`, `guest` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** λ΅κ·ΈμΈ λ°©μ‹λ³„ μ „ν™μ¨ λ¶„μ„, νμ›κ°€μ… μ μ… κ²½λ΅ νμ•…

**GTM μ„¤μ •:**
- νΈλ¦¬κ±°: λ§μ¶¤ μ΄λ²¤νΈ `login`
- μ΄λ²¤νΈ νλΌλ―Έν„°: `method`

---

#### 2. `sign_up`
**μ„¤λ…:** μ‹ κ· νμ›κ°€μ… μ™„λ£ (μµμ΄ λ΅κ·ΈμΈ μ„±κ³µ)
**νΈλ¦¬κ±°:** λ΅κ·ΈμΈ μ„±κ³µ ν›„ μ‹ κ· μ‚¬μ©μ νλ³„
**μ„μΉ:** `authService.js` (κµ¬ν„ ν•„μ”)

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `method` | string | κ°€μ… λ°©μ‹ | `google`, `kakao` |
| `referral_code` | string | μ¶”μ²μΈ μ½”λ“ (μλ” κ²½μ°) | `ABC123` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** μ‹ κ· μ‚¬μ©μ νλ“ κ²½λ΅, μ¶”μ² ν”„λ΅κ·Έλ¨ ν¨κ³Ό μΈ΅μ •

---

### π® Game (κ²μ„ ν”λ μ΄)

#### 3. `game_start`
**μ„¤λ…:** κ²μ„ μ‹μ‘ λ²„νΌ ν΄λ¦­
**νΈλ¦¬κ±°:** "κ²μ„ μ‹μ‘" λλ” "μ²΄ν— ν”λ μ΄" λ²„νΌ ν΄λ¦­
**μ„μΉ:** `Main.js` (699λ² λΌμΈ)

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `mode` | string | κ²μ„ λ¨λ“ | `normal`, `hard` |
| `user_type` | string | μ‚¬μ©μ μ ν• | `member`, `guest` |
| `level` | number | ν„μ¬ λ λ²¨ | `5` |
| `coins` | number | λ³΄μ  μ½”μΈ | `3` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** κ²μ„ μ‹μ‘λ¥ , ν•λ“λ¨λ“ μ„ νƒλ¥ , κ²μ¤νΈ μ „ν™μ¨

---

#### 4. `game_over`
**μ„¤λ…:** κ²μ„ μΆ…λ£ (μ‹¤ν¨ λλ” μ™„λ£)
**νΈλ¦¬κ±°:** κ²μ„ μ—”μ§„μ—μ„ κ²μ„ μΆ…λ£ μ½λ°± μ‹¤ν–‰
**μ„μΉ:** `Game.js` (35λ² λΌμΈ), `GameHard.js`

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `round` | number | λ„λ‹¬ν• λΌμ΄λ“ | `12` |
| `xp` | number | νλ“ κ²½ν—μΉ | `36` |
| `mode` | string | κ²μ„ λ¨λ“ | `normal`, `hard` |
| `level` | number | μ‚¬μ©μ λ λ²¨ | `5` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** κ²μ„ λ‚μ΄λ„ λ¶„μ„, μ‚¬μ©μ μ‹¤λ ¥ λ¶„ν¬, ν”λ μ΄ ν¨ν„΄

---

### π― Engagement (μ‚¬μ©μ μ°Έμ—¬)

#### 5. `toggle_hard_mode`
**μ„¤λ…:** ν•λ“λ¨λ“ ON/OFF ν† κΈ€
**νΈλ¦¬κ±°:** ν•λ“λ¨λ“ μ¤μ„μΉ ν΄λ¦­
**μ„μΉ:** `Main.js` (734λ² λΌμΈ)

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `enabled` | boolean | ν™μ„±ν™” μ—¬λ¶€ | `true`, `false` |
| `level` | number | ν„μ¬ λ λ²¨ | `5` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** ν•λ“λ¨λ“ μ‚¬μ©λ¥ , λ‚μ΄λ„ μ„ νΈλ„

---

#### 6. `view_all_levels`
**μ„¤λ…:** μ „μ²΄ λ λ²¨ λ³΄κΈ° λ¨λ‹¬ μ—΄κΈ°
**νΈλ¦¬κ±°:** "μ „μ²΄ λ λ²¨" λ²„νΌ ν΄λ¦­
**μ„μΉ:** `Main.js` (1102λ² λΌμΈ)

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `current_level` | number | ν„μ¬ λ λ²¨ | `15` |
| `page` | number | μ΅°νν• νμ΄μ§€ | `2` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** μ¥κΈ° λ©ν‘ μΈμ‹, λ¨ν‹°λ² μ΄μ… μΈ΅μ •

---

### π”— Social (κ³µμ /λ°”μ΄λ΄)

#### 7. `share`
**μ„¤λ…:** κ³µμ  λ²„νΌ ν΄λ¦­
**νΈλ¦¬κ±°:** κ³µμ  λ²„νΌ ν΄λ¦­ (λ©”μΈ/κ²°κ³Ό ν™”λ©΄)
**μ„μΉ:** `Main.js` (856λ² λΌμΈ), `Result.js` (124λ² λΌμΈ)

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `method` | string | κ³µμ  λ°©μ‹ | `native_share`, `clipboard` |
| `content_type` | string | κ³µμ  μ»¨ν…μ¤νΈ | `referral`, `game_result` |
| `round` | number | κ²μ„ κ²°κ³Ό κ³µμ  μ‹ λΌμ΄λ“ | `15` |
| `user_type` | string | μ‚¬μ©μ μ ν• | `member`, `guest` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** λ°”μ΄λ΄ κ³„μ, μ¶”μ² ν”„λ΅κ·Έλ¨ ν¨κ³Ό, K-Factor

---

#### 8. `click_coin_info`
**μ„¤λ…:** μ½”μΈ μ •λ³΄ μ•„μ΄μ½ ν΄λ¦­
**νΈλ¦¬κ±°:** μ½”μΈ μ•„μ΄μ½ ν΄λ¦­ (νλ“ λ°©λ²• μ•λ‚΄)
**μ„μΉ:** `Main.js` (784λ² λΌμΈ)

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `coins` | number | ν„μ¬ λ³΄μ  μ½”μΈ | `2` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** μμµν™” λ¨λΈ μ΄ν•΄λ„, μ½”μΈ νλ“ κ΄€μ‹¬λ„

---

### π“ Navigation (ν™”λ©΄ μ „ν™)

#### 9. `screen_view`
**μ„¤λ…:** ν™”λ©΄ μ΅°ν (μλ™ μμ§‘)
**νΈλ¦¬κ±°:** νμ΄μ§€ λ λ”λ§
**μ„μΉ:** λ¨λ“  view μ»΄ν¬λ„νΈ

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `screen_name` | string | ν™”λ©΄ μ΄λ¦„ | `splash`, `main`, `game`, `result` |
| `user_type` | string | μ‚¬μ©μ μ ν• | `member`, `guest`, `anonymous` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** μ‚¬μ©μ ν”λ΅μ°, μ΄νƒ μ§€μ  νμ•…

---

#### 10. `retry_game`
**μ„¤λ…:** κ²°κ³Ό ν™”λ©΄μ—μ„ λ‹¤μ‹ μ‹λ„ ν΄λ¦­
**νΈλ¦¬κ±°:** "λ‹¤μ‹ μ‹λ„" λ²„νΌ ν΄λ¦­
**μ„μΉ:** `Result.js` (99λ² λΌμΈ)

**νλΌλ―Έν„°:**
| νλΌλ―Έν„° | νƒ€μ… | μ„¤λ… | μμ‹ |
|---------|------|------|------|
| `previous_round` | number | μ΄μ „ κ²μ„ λΌμ΄λ“ | `12` |
| `coins` | number | λ³΄μ  μ½”μΈ | `2` |
| `mode` | string | κ²μ„ λ¨λ“ | `normal`, `hard` |

**λΉ„μ¦λ‹μ¤ κ°€μΉ:** μ¬ν”λ μ΄μ¨, κ²μ„ μ¤‘λ…μ„± μΈ΅μ •

---

## π“ μ°μ„ μμ„λ³„ κµ¬ν„ κ³„ν

### Priority 1 (ν•µμ‹¬ λΉ„μ¦λ‹μ¤ μ§€ν‘) β­β­β­
**μ¦‰μ‹ κµ¬ν„ κ¶μ¥**

- [ ] `login` - λ΅κ·ΈμΈ μ „ν™μ¨
- [ ] `sign_up` - μ‹ κ· μ‚¬μ©μ νλ“
- [ ] `game_start` - κ²μ„ μ‹μ‘λ¥ 
- [ ] `game_over` - κ²μ„ μ™„λ£μ¨
- [ ] `share` - λ°”μ΄λ΄ κ³„μ

### Priority 2 (μ°Έμ—¬λ„ μΈ΅μ •) β­β­
**Phase 2 κµ¬ν„**

- [ ] `toggle_hard_mode` - λ‚μ΄λ„ μ„ νΈλ„
- [ ] `retry_game` - μ¬ν”λ μ΄μ¨
- [ ] `view_all_levels` - μ¥κΈ° λ©ν‘ μΈμ‹

### Priority 3 (λ¶€κ°€ κΈ°λ¥) β­
**μ„ νƒμ  κµ¬ν„**

- [ ] `click_coin_info` - μμµν™” κ΄€μ‹¬λ„
- [ ] `screen_view` - ν™”λ©΄ μ „ν™ μ¶”μ 

---

## π« μ μ™Έλ μ΄λ²¤νΈ

λ‹¤μ μ΄λ²¤νΈλ” ν„μ¬ κµ¬ν„ν•μ§€ μ•μµλ‹λ‹¤:

### `level_up` (μ μ™Έ)
**μ μ™Έ μ΄μ :** ν„μ¬ μ‹μ μ—μ„λ” λ λ²¨μ—… μ΄λ²¤νΈ μμ§‘ν•μ§€ μ•μ

### `view_ranking` (μ μ™Έ)
**μ μ™Έ μ΄μ :** λ©”μΈ ν™”λ©΄μ— μλ™μΌλ΅ ν‘μ‹λλ―€λ΅ λ³„λ„ νΈλ¦¬κ±° μ•΅μ…μ΄ μ—†μ

### `view_weekly_activity` (μ μ™Έ)
**μ μ™Έ μ΄μ :** λ©”μΈ ν™”λ©΄μ— μλ™μΌλ΅ ν‘μ‹λλ―€λ΅ λ³„λ„ νΈλ¦¬κ±° μ•΅μ…μ΄ μ—†μ

---

## GTM μ„¤μ • κ°€μ΄λ“

### 1. λ³€μ μƒμ„±

GTMμ—μ„ λ‹¤μ λ³€μλ“¤μ„ μƒμ„±ν•μ„Έμ”:

#### DataLayer λ³€μ
- `event` - μ΄λ²¤νΈ μ΄λ¦„
- `method` - ν–‰λ™ λ°©μ‹
- `mode` - κ²μ„ λ¨λ“
- `level` - μ‚¬μ©μ λ λ²¨
- `round` - κ²μ„ λΌμ΄λ“
- `xp` - νλ“ κ²½ν—μΉ
- `user_type` - μ‚¬μ©μ μ ν•
- `coins` - λ³΄μ  μ½”μΈ
- `content_type` - κ³µμ  μ»¨ν…μ¤νΈ
- `referral_code` - μ¶”μ²μΈ μ½”λ“
- `enabled` - ν™μ„±ν™” μ—¬λ¶€
- `current_level` - ν„μ¬ λ λ²¨
- `page` - νμ΄μ§€ λ²νΈ
- `previous_round` - μ΄μ „ λΌμ΄λ“
- `screen_name` - ν™”λ©΄ μ΄λ¦„

### 2. νΈλ¦¬κ±° μƒμ„±

#### μμ‹: μ»¤μ¤ν…€ μ΄λ²¤νΈ
```
νΈλ¦¬κ±° μ ν•: λ§μ¶¤ μ΄λ²¤νΈ
μ΄λ²¤νΈ μ΄λ¦„: game_start
```

### 3. νƒκ·Έ μƒμ„±

#### μμ‹: κ²μ„ μ‹μ‘ μ΄λ²¤νΈ
```
νƒκ·Έ μ ν•: Google μ• λ„λ¦¬ν‹±μ¤: GA4 μ΄λ²¤νΈ
κµ¬μ„± νƒκ·Έ: GA4 Configuration
μ΄λ²¤νΈ μ΄λ¦„: game_start

μ΄λ²¤νΈ λ§¤κ°λ³€μ:
  - mode: {{DLV - mode}}
  - user_type: {{DLV - user_type}}
  - level: {{DLV - level}}
  - coins: {{DLV - coins}}

νΈλ¦¬κ±°: CE - game_start
```

### 4. DataLayer Push κµ¬ν„

JavaScriptμ—μ„ μ΄λ²¤νΈ λ°μƒ μ‹:

```javascript
// μμ‹: κ²μ„ μ‹μ‘
window.dataLayer = window.dataLayer || [];
window.dataLayer.push({
  'event': 'game_start',
  'mode': 'normal',
  'user_type': 'member',
  'level': 5,
  'coins': 3
});
```

---

## π” λ¶„μ„ λ€μ‹λ³΄λ“ κµ¬μ„± (μ¶”μ²)

### ν•µμ‹¬ μ§€ν‘ (KPI)
1. **DAU/MAU** - μΌκ°„/μ›”κ°„ ν™μ„± μ‚¬μ©μ
2. **Retention Rate** - D1, D7, D30 λ¦¬ν…μ…
3. **Game Completion Rate** - κ²μ„ μ™„λ£μ¨
4. **Viral Coefficient** - λ°”μ΄λ΄ κ³„μ (K-Factor)
5. **Average Round per User** - μ‚¬μ©μλ‹Ή ν‰κ·  λΌμ΄λ“

### κ¶μ¥ λ³΄κ³ μ„
- **Acquisition Report**: λ΅κ·ΈμΈ λ°©μ‹λ³„ μ „ν™μ¨
- **Engagement Report**: κ²μ„ ν”λ μ΄ λΉλ„, ν‰κ·  λΌμ΄λ“
- **Retention Cohort**: κ°€μ…μΌ κΈ°μ¤€ λ¦¬ν…μ… λ¶„μ„
- **Funnel Analysis**: Splash β†’ Login β†’ Game β†’ Share

---

## λ³€κ²½ μ΄λ ¥

### v1.1.0 (2025-12-16)
- 3κ° μ΄λ²¤νΈ μ μ™Έ (`level_up`, `view_ranking`, `view_weekly_activity`)
- μ΄ μ΄λ²¤νΈ μ: 13κ° β†’ 10κ°
- Priority μ¬λ¶„λ¥

### v1.0.0 (2025-12-16)
- μ΄κΈ° μ΄λ²¤νΈ μ¤ν™ μ‘μ„±
- 13κ° ν•µμ‹¬ μ΄λ²¤νΈ μ •μ
- λ„¤μ΄λ° μ»¨λ²¤μ… ν™•λ¦½
- GTM μ„¤μ • κ°€μ΄λ“ μ¶”κ°€

---

## π“ μ°Έκ³  μλ£

- [GA4 κ¶μ¥ μ΄λ²¤νΈ](https://support.google.com/analytics/answer/9267735)
- [GTM κ°λ°μ κ°€μ΄λ“](https://developers.google.com/tag-manager)
- [DataLayer κµ¬μ΅°](https://developers.google.com/tag-platform/tag-manager/datalayer)
