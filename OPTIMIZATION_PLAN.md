# Focus 게임 최적화 계획

> **목표**: 디자인 시스템 통일 + 성능 최적화 + 게이미피케이션 강화를 통해 "하나의 온전한 게임" 경험 제공

---

## 📋 현재 상태 분석

### ✅ 잘 되어있는 부분
- Design System 변수가 체계적으로 정의됨 (`design-system.css`)
- 효과음 시스템 구현 완료 (`audioManager`)
- 레벨별 시각적 차별화 (그라데이션, 애니메이션)
- 기본적인 애니메이션 구현

### ⚠️ 개선 필요 부분
- 인라인 스타일이 많아 일관성 부족
- 애니메이션과 사운드 타이밍 미세 조정 필요
- 성취감을 주는 피드백 장치 부족
- 뷰 간 전환 효과 부재
- 로딩 상태 시각화 미흡

---

## 🎨 Phase 1: 디자인 시스템 통일 (Design System Unification)

### 1.1 공통 컴포넌트 클래스 정의
**목적**: 재사용 가능한 UI 요소를 클래스화하여 일관성 확보

**작업 내용**:
- `components.css` 신규 생성
- 버튼 스타일 통일 (`.btn-primary`, `.btn-secondary`, `.btn-icon`)
- 카드 스타일 통일 (`.card`, `.card-elevated`, `.card-glow`)
- 배지 스타일 통일 (`.badge`, `.badge-level`, `.badge-rank`)
- 모달 스타일 통일 (`.modal`, `.modal-backdrop`, `.modal-content`)

**규격**:
```css
/* 버튼 */
.btn-primary:
  - height: 48px
  - border-radius: 12px
  - font-size: 1rem (16px)
  - font-weight: 600
  - padding: 0 24px

/* 카드 */
.card:
  - border-radius: 12px
  - padding: 16px
  - background: var(--gray-800)
  - max-width: 400px

/* 배지 */
.badge-level:
  - padding: 4px 12px
  - border-radius: 9999px
  - font-size: 0.8rem
  - font-weight: 700
```

### 1.2 타이포그래피 정리
**목적**: 텍스트 크기와 스타일 일관성

**작업 내용**:
- 모든 인라인 `font-size`를 design-system 변수로 교체
- 제목/본문/캡션 역할별 클래스 정의 (`.text-heading`, `.text-body`, `.text-caption`)
- 강조 텍스트 통일 (`.text-highlight`, `.text-muted`)

**계층 구조**:
```
- Heading (1.5rem/24px): 섹션 제목
- Subheading (1.125rem/18px): 카드 제목
- Body (1rem/16px): 기본 텍스트
- Small (0.875rem/14px): 부가 정보
- Caption (0.75rem/12px): 라벨
```

### 1.3 간격 시스템 통일
**목적**: 여백과 간격 일관성

**작업 내용**:
- 모든 인라인 `margin`, `padding` 값을 `var(--space-*)` 변수로 교체
- 레이아웃 간격 규칙 정의
  - 카드 간격: `--space-4` (16px)
  - 섹션 간격: `--space-6` (24px)
  - 요소 내부 간격: `--space-2` (8px)

### 1.4 색상 시스템 정리
**목적**: 색상 사용 일관성

**작업 내용**:
- 하드코딩된 색상 값 제거
- 모든 색상을 design-system 변수로 교체
- 테마별 색상 매핑 (일반모드/하드모드)

---

## ⚡ Phase 2: 성능 최적화 (Performance Optimization)

### 2.1 애니메이션 타이밍 & 사운드 동기화
**목적**: 시각과 청각 피드백의 완벽한 조화

**작업 내용**:
- 레벨업 애니메이션과 `playLevelUp()` 타이밍 맞추기
- 버튼 클릭 애니메이션 + 클릭음 동기화 (scale 효과와 함께)
- 카드 진입 애니메이션 + 사운드 시퀀싱

**타이밍 규칙**:
```
버튼 클릭: 사운드 재생 → 0ms 후 scale(0.98)
레벨업:
  - 0ms: 사운드 재생
  - 500ms: XP 바 100% 채움
  - 1000ms: 레벨 숫자 변경 + 이미지 변경
  - 1200ms: 컨페티 효과
게임오버:
  - 0ms: 사운드 재생
  - 300ms: 화면 전환
  - 600ms: 결과 카드 슬라이드 업
```

### 2.2 이미지 최적화
**목적**: 로딩 시간 단축, 부드러운 경험

**작업 내용**:
- 레벨 이미지 Lazy Loading 구현
- Critical 이미지 (현재 레벨, 스플래시) 우선 로드
- 이미지 로딩 중 스켈레톤 UI 표시
- WebP 포맷 지원 추가

### 2.3 CSS 애니메이션 최적화
**목적**: 60fps 보장, 버벅임 제거

**작업 내용**:
- `transform`, `opacity`만 사용 (GPU 가속)
- `will-change` 속성 전략적 사용
- 복잡한 애니메이션은 `requestAnimationFrame` 활용
- 불필요한 리플로우 제거

**최적화 패턴**:
```css
/* ❌ Bad: layout shift 발생 */
.animation {
  transition: width 0.3s;
}

/* ✅ Good: GPU 가속 */
.animation {
  transition: transform 0.3s;
  will-change: transform;
}
```

### 2.4 렌더링 최적화
**목적**: 불필요한 DOM 조작 최소화

**작업 내용**:
- 뷰 전환 시 fade-out → fade-in 트랜지션 추가
- 리스트 렌더링 시 DocumentFragment 사용
- 스크롤 성능 개선 (`will-change: scroll-position`)

---

## 🎮 Phase 3: 게이미피케이션 강화 (Gamification Enhancement)

### 3.1 레벨업 경험 개선
**목적**: 레벨업 순간을 특별하게

**작업 내용**:
- 레벨업 풀스크린 오버레이 강화
  - 배경 블러 효과
  - 레벨 이미지 확대 애니메이션
  - 컨페티 + 플래시 효과
  - 축하 메시지 시퀀스 ("Great!", "You are now...", "Keep going!")
- 마일스톤 레벨 (10, 20, 30...) 특별 효과
  - 특별한 컬러 테마
  - 추가 이펙트 (불꽃, 반짝임)

**애니메이션 시퀀스** (3초):
```
0.0s: 화면 어두워짐 + 사운드
0.3s: "LEVEL UP!" 텍스트 등장 (scale + glow)
0.8s: 레벨 숫자 카운트업 애니메이션
1.2s: 레벨 이미지 확대 (scale 0.8 → 1.2 → 1.0)
1.2s~2.5s: 컨페티 파티클 생성
2.5s: 축하 메시지 ("Now you are...")
3.0s: 서서히 사라짐
```

### 3.2 랭킹 변화 시각화
**목적**: 랭킹 변동을 눈에 보이게

**작업 내용**:
- 순위 변동 알림 강화
  - 상승: 초록색 배경 + 위쪽 화살표 애니메이션
  - 하락: 빨간색 배경 + 아래쪽 화살표
  - TOP 3 진입: 금색 테두리 + 트로피 아이콘
  - TOP 10 진입: 은색 테두리 + 별 아이콘
- 랭킹 변화 그래프 (선택적)

### 3.3 라운드 진행 피드백
**목적**: 플레이 중 성취감 제공

**작업 내용**:
- 라운드 클리어 시 체크마크 + 작은 컨페티
- 5라운드마다 "Good Job!" 미니 팝업
- 10라운드마다 특별 효과 (화면 플래시 + 폭죽 효과)
- 자기 최고 기록 경신 시 "New Record!" 배너

**이펙트 타이밍**:
```
정답 클릭:
  - 0ms: 클릭음
  - 50ms: 체크마크 애니메이션 (scale 0 → 1.2 → 1.0)
  - 100ms: 배경 플래시 (opacity 0 → 0.3 → 0, 200ms)
  - 200ms: 미니 컨페티 (3~5개)

마일스톤 라운드 (5R, 10R, 20R...):
  - 0ms: 특별 사운드
  - 200ms: "Round 10!" 배너 슬라이드 인
  - 800ms: 컨페티 효과
  - 2000ms: 배너 슬라이드 아웃
```

### 3.4 우월감/성취감 강화
**목적**: 타인과의 비교를 통한 동기 부여

**작업 내용**:
- 내 랭킹 카드 강조 (펄스 애니메이션, 테두리 glow)
- "상위 X%" 표시 추가
- 주간 1위 특별 뱃지 (왕관 아이콘)
- "이번 주 상승률 1위!" 등 특별 칭호

### 3.5 마이크로 인터랙션 추가
**목적**: 모든 상호작용에 피드백

**작업 내용**:
- 버튼 호버: scale(1.02) + 그림자 강화
- 버튼 클릭: scale(0.98) + 햅틱 피드백 (모바일)
- 토글 스위치: 슬라이드 애니메이션 + 효과음
- 카드 진입: stagger 애니메이션 (순차 등장)
- 스크롤 인터랙션: 카드가 뷰포트 진입 시 fade-up

---

## 🎬 Phase 4: 뷰 전환 & 로딩 최적화 (View Transitions & Loading)

### 4.1 페이지 전환 애니메이션
**목적**: 끊김 없는 내비게이션

**작업 내용**:
- 라우터에 전환 애니메이션 추가
  - Splash → Main: fade + slide up
  - Main → Game: fade + zoom in
  - Game → Result: fade
  - Result → Main: fade + slide down
- 전환 중 로딩 인디케이터 표시

**전환 패턴**:
```css
.view-exit {
  animation: fadeOut 0.3s ease-out;
}

.view-enter {
  animation: fadeIn 0.3s ease-in;
}
```

### 4.2 스플래시 화면 개선
**목적**: 첫 인상 강화

**작업 내용**:
- 로고 애니메이션 추가 (scale + glow pulse)
- 배경 영상 밝기 조정
- 로그인 버튼 stagger 애니메이션
- 로딩 스피너 디자인 개선

### 4.3 로딩 상태 시각화
**목적**: 사용자가 대기 중임을 인지

**작업 내용**:
- 랭킹 로딩: 스켈레톤 UI
- 게임 시작 전: "Get Ready!" 카운트다운 (3, 2, 1, GO!)
- XP 계산 중: 프로그레스 바 애니메이션
- 데이터 저장 중: 작은 스피너 표시

---

## 🔧 Phase 5: 세부 조정 & 폴리싱 (Fine-tuning & Polish)

### 5.1 반응형 디자인 점검
**목적**: 모든 화면 크기에서 완벽한 경험

**작업 내용**:
- 모바일 (320px~): 카드 max-width 100%, padding 축소
- 태블릿 (768px~): 2단 레이아웃
- 데스크톱 (1024px~): 중앙 정렬, max-width 제한

### 5.2 다크모드 일관성
**목적**: 테마 변수 완벽 적용

**작업 내용**:
- 모든 색상이 테마 변수 사용하는지 검증
- 하드모드 전환 시 애니메이션 부드럽게
- 색상 대비 접근성 확인

### 5.3 애니메이션 속도 통일
**목적**: 전체적으로 일관된 템포

**작업 내용**:
- Fast: 150ms (버튼 호버, 토글)
- Base: 250ms (카드 전환, 페이드)
- Slow: 350ms (모달 등장, 페이지 전환)
- Special: 1000ms+ (레벨업, XP 애니메이션)

### 5.4 접근성 개선
**목적**: 모든 사용자를 위한 배려

**작업 내용**:
- 키보드 네비게이션 지원
- focus 스타일 명확히
- 색각 이상자를 위한 아이콘 추가 (색상만으로 정보 전달 X)
- 효과음 ON/OFF 설정 존중

### 5.5 에러 상태 처리
**목적**: 실패 상황에서도 좋은 경험

**작업 내용**:
- 네트워크 오류: 재시도 버튼 + 안내 메시지
- 로딩 실패: 스켈레톤 → 에러 아이콘 + 텍스트
- 빈 상태: 일러스트 + 안내 문구

---

## 📦 구현 우선순위

### 🔴 High Priority (핵심 경험)
1. **디자인 시스템 통일** (Phase 1.1~1.4)
   - 컴포넌트 클래스 정의
   - 타이포그래피, 간격, 색상 통일

2. **레벨업 경험 개선** (Phase 3.1)
   - 레벨업 애니메이션 시퀀스
   - 컨페티 + 사운드 동기화

3. **라운드 진행 피드백** (Phase 3.3)
   - 정답 시 체크마크 + 컨페티
   - 마일스톤 라운드 효과

### 🟡 Medium Priority (사용성 개선)
4. **애니메이션 타이밍 동기화** (Phase 2.1)
   - 사운드와 시각 효과 타이밍 맞추기

5. **랭킹 변화 시각화** (Phase 3.2)
   - 순위 변동 알림 강화

6. **로딩 상태 시각화** (Phase 4.3)
   - 스켈레톤 UI, 카운트다운

### 🟢 Low Priority (완성도 높이기)
7. **CSS 애니메이션 최적화** (Phase 2.3)
   - GPU 가속, will-change

8. **뷰 전환 애니메이션** (Phase 4.1)
   - 페이지 전환 효과

9. **세부 조정 & 폴리싱** (Phase 5.1~5.5)
   - 반응형, 접근성, 에러 처리

---

## 🎯 성공 지표

### 사용자 경험 지표
- [ ] 모든 인터랙션에 즉각적인 피드백 (시각 + 청각)
- [ ] 레벨업 시 "와!" 하는 순간 제공
- [ ] 랭킹 변화가 눈에 보임
- [ ] 로딩 중에도 지루하지 않음

### 기술 지표
- [ ] 모든 애니메이션 60fps 유지
- [ ] First Contentful Paint < 1.5s
- [ ] Time to Interactive < 3.0s
- [ ] CSS 변수 사용률 95%+
- [ ] 인라인 스타일 90% 감소

### 일관성 지표
- [ ] 모든 버튼 높이 통일 (48px)
- [ ] 모든 카드 max-width 통일 (400px)
- [ ] 색상 하드코딩 0건
- [ ] 폰트 크기 6단계만 사용
- [ ] 간격은 8px 기반 시스템만 사용

---

## 📝 다음 단계

이 계획을 바탕으로 **TODO 리스트**를 생성하여 단계별로 구현합니다.

각 Phase는 독립적으로 테스트 가능하며, 점진적으로 개선할 수 있습니다.
